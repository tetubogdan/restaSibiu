<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="blank">
    <script src="LOGin.js"   defer type="module"></script>
    <link rel="stylesheet" href="PrincipalaStyle.css">

    

    <!----- icons link -------->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" >

   <!---Bootstrap link -->
   <!------ <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
----->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

<script defer src="/__/firebase/10.10.0/firebase-app-compat.js"></script>
<!-- include only the Firebase features as you need -->
<script defer src="/__/firebase/10.10.0/firebase-auth-compat.js"></script>
<script defer src="/__/firebase/10.10.0/firebase-database-compat.js"></script>
<script defer src="/__/firebase/10.10.0/firebase-firestore-compat.js"></script>
<script defer src="/__/firebase/10.10.0/firebase-functions-compat.js"></script>
<script defer src="/__/firebase/10.10.0/firebase-messaging-compat.js"></script>
<script defer src="/__/firebase/10.10.0/firebase-storage-compat.js"></script>
<script defer src="/__/firebase/10.10.0/firebase-analytics-compat.js"></script>
<script defer src="/__/firebase/10.10.0/firebase-remote-config-compat.js"></script>
<script defer src="/__/firebase/10.10.0/firebase-performance-compat.js"></script>
<!-- 
  initialize the SDK after all desired features are loaded, set useEmulator to false
  to avoid connecting the SDK to running emulators.
-->
<script defer src="/__/firebase/init.js?useEmulator=true"></script>

</head>

<body>
    

   <header>
       <div>  <h1 > <i class="fa-solid fa-utensils "></i> TasteIt.Restaurante</h1></div> 
       <nav>
        <ul>
            <li><a href="index.html">HOME</a></li>
            <li><a href="LogIn.html">LOGIN</a></li>
            <li><a href="Register.html">REGISTER</a></li>
            <li><a href="#book-table">BOOK TABLE</a></li>
        </ul>
    </nav>
        
        
    </header>
   <main>

    
        <div class="main-content">
            <h2>Descoperă Sibiul. Rezervă online, fără să suni.</h2>
            <a href="#explore" class="explore-button">Explore</a>
        </div>
    

        <section class="popular-places">
            <div class="container">
                <h2 class="text-center mb-5">Cele mai rezervate locații din Sibiu</h2>
                <div class="row" id="restaurant-list"> <!-- Asigură-te că această secțiune există -->
                </div>
                <div id="load-more" style="display: none;">Load More</div>
                <div id="show-less" style="display: none;"><button>Show Less</button></div>
            </div>
        </section>
        
<section class="reservation-section">
    <div class="container">
        <div class="row align-items-center justify-content-around">
            <div class="col-md-3">
                <div class="reservation-step">
                    <i class="fas fa-utensils"></i>
                    <h3>Alege localul</h3>
                    <p>E ok dacă nu-ți mai amintești cum se numea. Poți căuta și după tipul, bucătăria sau adresa acestuia. Dacă nu ai idei, uită-te prin Colecții.</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="reservation-step">
                    <i class="far fa-calendar-alt"></i>
                    <h3>Alege ziua</h3>
                    <p>Sistemul o să îți afișeze toate zilele disponibile. Nu poți rezerva o masă în trecut, mașina timpului nu mai are benzină.</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="reservation-step">
                    <i class="fas fa-chair"></i>
                    <h3>Alege numărul de locuri</h3>
                    <p>Dacă ieși cu mai mult de patru oameni, adaugă un loc în plus. Nu știi niciodată cine mai apare, sau cine are prea multe genți.</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="reservation-step">
                    <i class="far fa-clock"></i>
                    <h3>Alege ora rezervării</h3>
                    <p>Îți vom sugera câteva ore pentru Cină, Prânz sau Micul Dejun. Dar poți alege altele, în funcție de cum ți-ai planificat ziua.</p>
                </div>
            </div>
        </div>
    </div>
</section>

   <section class="business-solutions">
    <div class="container">
        <h2>Ai un restaurant, bar sau cafenea?</h2>
        <a href="Business.html">Află mai multe despre soluțiile TasteIt.Restaurante Business.</a>
    </div>
   </section>
   </main>

    <footer class="header_footer_backround">
     
        <p>2024 TasteIt.Restaurante &copy; Drepturi de autor.</p>
</footer>
<script>
document.addEventListener('DOMContentLoaded', async function() {
    const db = firebase.firestore();
    const container = document.getElementById('restaurant-list');
    let currentItem = 4;

    const loadRestaurants = async () => {
        container.innerHTML = ''; 
        const snapshot = await db.collection('restaurants').get();
        let htmlContent = '';
        snapshot.forEach(doc => {
            const data = doc.data();
            htmlContent += `
                <div class="col-md-3 mb-4" style="display: none;">
                    <div class="card">
                        <img src="${data.imageUrl}" class="card-img-top" alt="${data.name}">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">${data.name}</h5>
                            <p class="card-text">${data.description || "Descriere indisponibilă"}</p>
                            <div class="rating"> 
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <a href="#" class="card-button">Detalii</a>
                        </div>
                    </div>
                </div>
            `;
        });
        container.innerHTML = htmlContent;
        updateDisplay();
    };

    const updateDisplay = () => {
    const boxes = document.querySelectorAll('.popular-places .container .row .col-md-3');
    console.log('Numărul total de cutii:', boxes.length); // Loghează numărul de cutii
    boxes.forEach((box, index) => {
        if (index < currentItem) {
            box.style.display = 'block';
        }
    });

    console.log('currentItem:', currentItem); // Loghează valoarea currentItem
    document.getElementById('load-more').style.display = currentItem < boxes.length ? 'block' : 'none';
    document.getElementById('show-less').style.display = currentItem > 4 ? 'block' : 'none';
};

document.getElementById('load-more').onclick = () => {
    const boxes = document.querySelectorAll('.popular-places .container .row .col-md-3');
    for (let i = currentItem; i < currentItem + 4 && i < boxes.length; i++) {
        boxes[i].style.display = 'block';
    }
    currentItem += 4;
    console.log('currentItem după Load More:', currentItem); // Verifică valoarea după clic
    updateDisplay();
};

document.getElementById('show-less').onclick = () => {
    const boxes = document.querySelectorAll('.popular-places .container .row .col-md-3');
    for (let i = boxes.length - 1; i >= 4; i--) {
        boxes[i].style.display = 'none';
    }
    currentItem = 4;
    console.log('currentItem după Show Less:', currentItem); // Verifică resetarea
    updateDisplay();
};

    await loadRestaurants();
});

    </script>
<!--
<script src="js/adaugaRestaIndex.js"></script>
-->
    
    
</body>
</html>